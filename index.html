<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Curricular Ingenier√≠a Industrial - UIS</title>

<style>
:root{
  --verde:#2ecc71;
  --verde-osc:#1e8449;
  --azul:#2c3e50;
  --gris:#ecf0f1;
  --fondo:#f5f7fa;
}

body{
  margin:0;
  padding:20px;
  font-family:"Segoe UI", system-ui, sans-serif;
  background:var(--fondo);
}

/* ===== HEADER ===== */
.header{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:20px;
  margin-bottom:30px;
}

.header img{
  height:80px;
  object-fit:contain;
}

.header h1{
  color:var(--azul);
  letter-spacing:1px;
}

/* ===== GRID ===== */
.grid{
  display:grid;
  grid-template-columns: repeat(10, minmax(230px,1fr));
  gap:16px;
  overflow-x:auto;
}

/* ===== SEMESTER ===== */
.semester{
  background:#fff;
  border-radius:14px;
  padding:14px;
  box-shadow:0 8px 16px rgba(0,0,0,.08);
  border-top:6px solid var(--verde);
}

.semester h2{
  text-align:center;
  font-size:15px;
  margin-bottom:12px;
  color:var(--azul);
}

/* ===== COURSE ===== */
.course{
  background:var(--gris);
  border-radius:10px;
  padding:10px;
  margin-bottom:10px;
  font-size:13px;
  cursor:pointer;
  transition:.2s;
  border-left:6px solid transparent;
}

.course:hover{
  transform:translateY(-2px);
}

.course.approved{
  background:#d4f6e2;
  color:var(--verde-osc);
  border-left:6px solid var(--verde);
  font-weight:600;
}

.course.locked{
  background:#eee;
  color:#999;
  cursor:not-allowed;
  border-left:6px solid #bbb;
}

/* ===== MODAL PREREQUISITOS ===== */
.modal-bg{
  position:fixed;
  top:0; left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,.5);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}

.modal{
  background:#fff;
  padding:22px;
  border-radius:14px;
  max-width:420px;
  width:90%;
  box-shadow:0 12px 30px rgba(0,0,0,.3);
}

.modal h3{
  margin-top:0;
  color:var(--azul);
}

.modal ul{
  padding-left:18px;
}

.modal button{
  margin-top:15px;
  background:var(--verde);
  color:#fff;
  border:none;
  padding:8px 18px;
  border-radius:8px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- ===== HEADER CON ESCUDO ===== -->
<div class="header">
  <!-- üîΩ OPCI√ìN 1: imagen local -->
  <img src="escudo_uis.png" alt="Escudo UIS">

  <!-- üîΩ OPCI√ìN 2: URL (si prefieres)
  <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Escudo_Universidad_Industrial_de_Santander.png">
  -->
  <h1>Ingenier√≠a Industrial ‚Äì UIS</h1>
</div>

<div class="grid" id="grid"></div>

<!-- ===== MODAL ===== -->
<div class="modal-bg" id="modalBg" onclick="cerrarModal()">
  <div class="modal" onclick="event.stopPropagation()">
    <h3 id="modalTitulo"></h3>
    <p>Faltan aprobar:</p>
    <ul id="modalLista"></ul>
    <button onclick="cerrarModal()">Cerrar</button>
  </div>
</div>

<script>
const malla = [
 {s:1,c:[
  {id:'cal1',n:'C√°lculo I',cr:4},
  {id:'alg1',n:'√Ålgebra Lineal I',cr:4},
  {id:'geo',n:'Geometr√≠a Descriptiva',cr:4},
  {id:'qui',n:'Qu√≠mica B√°sica',cr:4},
  {id:'len',n:'Taller de Lenguaje',cr:3},
  {id:'uis',n:'C√°tedra UIS',cr:0}
 ]},
 {s:2,c:[
  {id:'cal2',n:'C√°lculo II',cr:4,req:['cal1']},
  {id:'fis1',n:'F√≠sica I',cr:4,req:['cal1']},
  {id:'bio',n:'Biolog√≠a para Ingenieros',cr:2},
  {id:'dep',n:'Cultura F√≠sica y Deporte',cr:1},
  {id:'comp',n:'Estructuras Computacionales',cr:3},
  {id:'intro',n:'Introducci√≥n a la Ingenier√≠a Industrial',cr:3}
 ]},
 {s:3,c:[
  {id:'mec',n:'Mec√°nica Anal√≠tica',cr:4,req:['fis1']},
  {id:'cal3',n:'C√°lculo III',cr:4,req:['cal2']},
  {id:'fis2',n:'F√≠sica II',cr:4,req:['fis1','cal2']},
  {id:'ing1',n:'Ingl√©s I',cr:4},
  {id:'eco',n:'Entorno Econ√≥mico',cr:3},
  {id:'ctx1',n:'Asignatura de Contexto I',cr:2}
 ]},
 {s:4,c:[
  {id:'ed',n:'Ecuaciones Diferenciales',cr:4,req:['cal3']},
  {id:'ter',n:'Termodin√°mica I',cr:4,req:['fis2']},
  {id:'fis3',n:'F√≠sica III',cr:4,req:['fis2']},
  {id:'ing2',n:'Ingl√©s II',cr:4,req:['ing1']},
  {id:'cont',n:'Gesti√≥n Contable',cr:3}
 ]},
 {s:5,c:[
  {id:'elec',n:'Electricidad y Electr√≥nica B√°sica',cr:3,req:['fis3']},
  {id:'mat',n:'Ciencia de los Materiales',cr:3},
  {id:'est1',n:'Estad√≠stica I',cr:3},
  {id:'cost',n:'Costos',cr:3,req:['cont']},
  {id:'dir1',n:'Direcci√≥n Empresarial',cr:3},
  {id:'ctx2',n:'Asignatura de Contexto II',cr:2,req:['ctx1']}
 ]},
 {s:6,c:[
  {id:'est2',n:'Estad√≠stica II',cr:3,req:['est1']},
  {id:'io1',n:'Investigaci√≥n de Operaciones I',cr:3,req:['est1']},
  {id:'proc',n:'Procesos Industriales',cr:3},
  {id:'ie',n:'Ingenier√≠a Econ√≥mica',cr:3,req:['eco']},
  {id:'mkt',n:'Principios de Mercadeo',cr:3},
  {id:'dir2',n:'Direcci√≥n Empresarial II',cr:3,req:['dir1']}
 ]},
 {s:7,c:[
  {id:'est3',n:'Estad√≠stica III',cr:3,req:['est2']},
  {id:'io2',n:'Investigaci√≥n de Operaciones II',cr:3,req:['io1']},
  {id:'do1',n:'Direcci√≥n de Operaciones I',cr:3,req:['io1']},
  {id:'fin',n:'Finanzas y Presupuestos',cr:3,req:['ie']},
  {id:'inv',n:'Investigaci√≥n de Mercados',cr:3,req:['mkt']}
 ]},
 {s:8,c:[
  {id:'sis',n:'Sistemas de Informaci√≥n',cr:3},
  {id:'calidad',n:'Ingenier√≠a de Calidad',cr:3,req:['est3']},
  {id:'do2',n:'Direcci√≥n de Operaciones II',cr:3,req:['do1']},
  {id:'sst',n:'Seguridad y Salud en el Trabajo',cr:3},
  {id:'th',n:'Talento Humano',cr:3},
  {id:'proy',n:'Formulaci√≥n y Evaluaci√≥n de Proyectos',cr:3,req:['ie']}
 ]},
 {s:9,c:[
  {id:'tg1',n:'Trabajo de Grado I',cr:3,req:['do2']},
  {id:'log',n:'Log√≠stica Integral',cr:3,req:['do2']},
  {id:'dsp',n:'Dise√±o de Sistemas Productivos',cr:3,req:['do2']},
  {id:'el1',n:'Electiva I',cr:3},
  {id:'el2',n:'Electiva II',cr:3}
 ]},
 {s:10,c:[
  {id:'tg2',n:'Trabajo de Grado II',cr:7,req:['tg1']},
  {id:'el3',n:'Electiva III',cr:3},
  {id:'el4',n:'Electiva IV',cr:3}
 ]}
];

let progreso = JSON.parse(localStorage.getItem("mallaUIS")) || {};

function abrirModal(nombre, faltantes){
  document.getElementById("modalTitulo").textContent = nombre;
  const ul = document.getElementById("modalLista");
  ul.innerHTML = "";
  faltantes.forEach(f=>{
    const li = document.createElement("li");
    li.textContent = f;
    ul.appendChild(li);
  });
  document.getElementById("modalBg").style.display = "flex";
}

function cerrarModal(){
  document.getElementById("modalBg").style.display = "none";
}

function render(){
  const grid = document.getElementById("grid");
  grid.innerHTML="";

  malla.forEach(sem=>{
    const col = document.createElement("div");
    col.className="semester";
    col.innerHTML=`<h2>Semestre ${sem.s}</h2>`;

    sem.c.forEach(mat=>{
      const div = document.createElement("div");
      div.className="course";
      div.textContent=`${mat.n} (${mat.cr} cr)`;

      const req = mat.req || [];
      const faltantes = req.filter(r=>!progreso[r]);
      const bloqueada = faltantes.length>0;

      if(progreso[mat.id]) div.classList.add("approved");
      if(bloqueada && !progreso[mat.id]) div.classList.add("locked");

      div.onclick=()=>{
        if(progreso[mat.id]){
          delete progreso[mat.id];
        }else{
          if(bloqueada){
            abrirModal(mat.n, faltantes);
            return;
          }
          progreso[mat.id]=true;
        }
        localStorage.setItem("mallaUIS", JSON.stringify(progreso));
        render();
      };

      col.appendChild(div);
    });
    grid.appendChild(col);
  });
}

render();
</script>

</body>
</html>
